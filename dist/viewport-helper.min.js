(()=>{const e={config:{viewportChangeEventTriggers:["resize","scroll","orientationchange"],viewportPositionOffset:0},listenersInit:!1,listeners:{},getViewportPosition:function(t=null){var n=e.config.viewportPositionOffset;return null!==t&&(n=t),{top:window.scrollY-n,bottom:window.scrollY+window.outerHeight+n}},getElementPosition:function(e){return{top:e.getBoundingClientRect().top+window.scrollY,bottom:e.getBoundingClientRect().bottom+window.scrollY}},isElementInViewport:function(t,n=null){var o=e.getViewportPosition(n),i=e.getElementPosition(t);return o.top<i.top&&o.bottom>i.top||o.top<i.bottom&&o.bottom>i.bottom},onViewportChange:function(t){e.config.viewportChangeEventTriggers.forEach((e=>{document.addEventListener(e,(()=>{t()}),{passive:!0})}))},onElementInViewport:function(t,n,o=null,i=!0){e.registerListener(t,n,(function(t){return e.isElementInViewport(t.element,t.offset)}),o,i)},onElementNotInViewport:function(t,n,o=null,i=!0){e.registerListener(t,n,(function(t){return!e.isElementInViewport(t.element,t.offset)}),o,i)},registerListener:function(t,n,o,i,r){e.initListeners();var s=Object.entries(e.listeners).length;e.listeners[s+1]={element:t,callback:n,once:r,offset:i,check:o}},checkListeners:function(){for(const[t,n]of Object.entries(e.listeners))n.check(n)&&(n.callback(),n.once&&delete e.listeners[t])},getScrollProgress:function(t=null){null===t&&(t=document.body);var n=e.getViewportPosition(0),o=t.offsetHeight;return Math.floor(n.bottom/o*100)},initListeners:function(){e.listenersInit||(document.addEventListener("DOMContentLoaded",(function(){e.checkListeners()}),!1),e.onViewportChange((()=>{e.checkListeners()})),e.listenersInit=!0)}};window.ViewportHelper=e})();